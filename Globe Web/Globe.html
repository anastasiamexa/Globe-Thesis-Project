<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="â€‹Landmark Statistcs, Currency Conversion Statistics, Translation Statistics">
        <meta name="description" content="">
        <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
        <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
        <meta name="generator" content="Nicepage 4.13.1, nicepage.com">
        <link rel="stylesheet" href="nicepage.css" media="screen">
        <link rel="stylesheet" href="Globe.css" media="screen">
        <link id="u_theme_google_font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
        <link id="u_page_google_font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
        <title>Statistics</title>
        <meta name="theme-color" content="#478ac9">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>

    <body class="u-body u-xl-mode">
        <section class="u-clearfix u-image u-section-1" id="carousel_c161">
            <div class="u-clearfix u-sheet u-sheet-1">
              <div class="u-clearfix u-expanded-width u-gutter-40 u-layout-wrap u-layout-wrap-1">
                <div class="u-layout">
                  <div class="u-layout-row">
                    <div class="u-size-27 u-size-30-md">
                      <div class="u-layout-row">
                        <div class="u-align-center u-container-style u-layout-cell u-left-cell u-size-60 u-layout-cell-1">
                          <div class="u-container-layout u-container-layout-1">
                            <img class="u-expanded-height-sm u-expanded-height-xs u-image u-image-round u-radius-10 u-image-1" data-image-width="410" data-image-height="212" src="images/globe_transparent.png" data-animation-name="customAnimationIn" data-animation-duration="1000">
                            <p class="u-text u-text-grey-50 u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000">Discover the world<br>with your personal travel assistant.
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="u-size-17 u-size-30-md">
                      <div class="u-layout-col">
                        <div class="u-container-style u-image u-layout-cell u-size-30 u-image-2" data-image-width="2000" data-image-height="1000">
                          <div class="u-container-layout"></div>
                        </div>
                        <div class="u-container-style u-layout-cell u-size-30 u-layout-cell-3">
                          <div class="u-container-layout">
                            <img class="u-expanded-height-sm u-expanded-height-xs u-image u-image-round u-radius-10 u-image-3" data-image-width="612" data-image-height="612" src="images/gold_globe1.png" data-animation-name="pulse" data-animation-duration="1000" data-animation-direction="">
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="u-size-16 u-size-60-md">
                      <div class="u-layout-row">
                        <div class="u-container-style u-image u-layout-cell u-right-cell u-size-60 u-image-4">
                          <div class="u-container-layout u-container-layout-4"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          <section class="u-clearfix u-section-2" id="carousel_9207">
            <div class="u-clearfix u-sheet u-sheet-1">
              <div class="u-palette-5-light-2 u-radius-50 u-shape u-shape-round u-shape-1"></div>
              <div class="u-align-left u-container-style u-group u-group-1">
                <div class="u-container-layout u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-valign-top-xs u-container-layout-1">
                  <h2 class="u-custom-font u-font-montserrat u-text u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000"> Landmark Statistcs</h2>
                  <p class="u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1000">For every landmark detection we collect specific data, such as the coordinates of the landmark, current user's username and a timestamp.</p>
                </div>
              </div>
              <div class="u-clearfix u-gutter-30 u-layout-wrap u-layout-wrap-1">
                <div class="u-gutter-0 u-layout">
                  <div class="u-layout-col">
                    <div class="u-size-20">
                      <div class="u-layout-row">
                        <div class="u-container-style u-image u-image-round u-layout-cell u-left-cell u-radius-50 u-size-20 u-size-20-md u-image-1" data-image-width="112" data-image-height="150">
                          <div class="u-container-layout"></div>
                        </div>
                        <div class="u-container-style u-image u-image-round u-layout-cell u-radius-50 u-size-20 u-size-20-md u-image-2" data-image-width="150" data-image-height="112">
                          <div class="u-container-layout"></div>
                        </div>
                        <div class="u-container-style u-image u-image-round u-layout-cell u-radius-50 u-right-cell u-size-20 u-size-20-md u-image-3" data-image-width="736" data-image-height="1104">
                          <div class="u-container-layout"></div>
                        </div>
                      </div>
                    </div>
                    <div class="u-size-40">
                      <div class="u-layout-row">
                        <div class="u-size-20">
                          <div class="u-layout-col">
                            <div class="u-container-style u-image u-image-round u-layout-cell u-left-cell u-radius-50 u-size-30 u-image-4" data-image-width="150" data-image-height="90">
                              <div class="u-container-layout"></div>
                            </div>
                            <div class="u-container-style u-image u-image-round u-layout-cell u-left-cell u-radius-50 u-size-30 u-image-5" data-image-width="1200" data-image-height="679">
                              <div class="u-container-layout"></div>
                            </div>
                          </div>
                        </div>
                        <div class="u-size-40">
                          <div class="u-layout-row">
                            <div class="u-container-style u-image u-image-round u-layout-cell u-radius-50 u-right-cell u-size-60 u-image-6" data-image-width="710" data-image-height="444">
                              <div class="u-container-layout u-container-layout-7"></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
            </div>
          </section>
          <section class="u-align-center-lg u-align-center-md u-align-center-sm u-align-center-xs u-clearfix u-image u-section-3" id="carousel_8c6f" data-image-width="2560" data-image-height="1741">
            <div class="u-clearfix u-sheet u-valign-middle-sm u-sheet-1">
                
              

                <div class="container mt-3">
                    <h3>Landmark Detections</h3>
                    <table class="table  table-bordered  table-hover">
                        
                        <thead>
                            <th>Username</th>
                            <th>Landmark</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Timestamp</th>
                            
                        </thead>
                        <tbody id="tbody3">
        
                        </tbody>
                    </table>
                </div>


            
          </section>
          <section class="u-clearfix u-white u-section-4" id="carousel_548b">
            <div class="u-align-left u-expanded-width u-opacity u-opacity-60 u-palette-3-light-2 u-shape u-shape-1"></div>
            <div class="u-container-style u-group u-group-1">
              <div class="u-container-layout u-container-layout-1">
                <h2 class="u-align-center u-text u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000">Currency Conversion Statistics</h2>
                <p class="u-align-center u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1000">
                  <span style="font-size: 1.25rem;">For every currency conversion we collect specific data, such as original and converted amount of currency, the names of the currencies, current user's username and a timestamp.</span>
                </p>
                <img class="u-expanded-width-xs u-image u-image-round u-radius-50 u-image-1" alt="" data-image-width="1440" data-image-height="514" src="images/currency.png">
              </div>
            </div>
            
          </section>
          <section class="u-align-center-lg u-align-center-md u-align-center-sm u-align-center-xs u-clearfix u-image u-section-5" id="sec-01cb" data-image-width="2560" data-image-height="1741">
            <div class="u-clearfix u-sheet u-valign-middle-sm u-sheet-1">
                <div class="container mt-3">
                    <h3>Conversions</h3>
                    <table class="table  table-bordered  table-hover">
                        <thead>
                            <th>Username</th>
                            <th>Currency From</th>
                            <th>Currency To</th>
                            <th>Original Value</th>
                            <th>Converted Value</th>
                            <th>Timestamp</th>
                            
                        </thead>
                        <tbody id="tbody1">
        
                        </tbody>
                    </table>
                </div>  
            </div>
          </section>
          <section class="u-align-left u-clearfix u-image u-section-6" id="carousel_8ad4" data-image-width="1920" data-image-height="1080">
            <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
              <div class="u-container-style u-custom-color-1 u-expanded-width-xs u-group u-group-1">
                <div class="u-container-layout u-container-layout-1">
                  <h1 class="u-text u-text-1" data-animation-name="customAnimationIn" data-animation-duration="1000">Translation Statistics</h1>
                  <p class="u-text u-text-2" data-animation-name="customAnimationIn" data-animation-duration="1000"> For every translation we collect specific data, such as the original and translated text, the initial and final language, current user's username and a timestamp. </p>
                </div>
              </div>
            </div>
          </section>
          <section class="u-align-center-lg u-align-center-md u-align-center-sm u-align-center-xs u-clearfix u-image u-section-7" id="sec-1485" data-image-width="2560" data-image-height="1741">
            <div class="u-clearfix u-sheet u-valign-middle-sm u-sheet-1">
                <div class="container mt-3">
                    <h3>Translations</h3>
                    <table class="table  table-bordered  table-hover">
                        <thead>
                            <th>Username</th>
                            <th>Language From</th>
                            <th>Language To</th>
                            <th>Original Text</th>
                            <th>Translated Text</th>
                            <th>Timestamp</th>
                            
                        </thead>
                        <tbody id="tbody2">
        
                        </tbody>
                    </table>
                </div>  
            </div>
          </section>
          
          
          
          <span style="height: 64px; width: 64px; margin-left: 0px; margin-right: auto; margin-top: 0px; background-image: none; right: 30px; bottom: 20px; padding: 15px;" class="u-back-to-top u-icon u-icon-circle u-opacity u-opacity-85 u-palette-1-base" data-href="#">
              <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 551.13 551.13"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-1d98"></use></svg>
              <svg class="u-svg-content" enable-background="new 0 0 551.13 551.13" viewBox="0 0 551.13 551.13" xmlns="http://www.w3.org/2000/svg" id="svg-1d98"><path d="m275.565 189.451 223.897 223.897h51.668l-275.565-275.565-275.565 275.565h51.668z"></path></svg>
          </span>
        
        
        <script type="module">
            //---------------------- FILLING THE TABLE ----------------------
            var tbody1 = document.getElementById('tbody1');
            var tbody2 = document.getElementById('tbody2');
            var tbody3 = document.getElementById('tbody3');

            function AddItemToTableConversions(username, from, to, oValue, cValue, timestamp){
                let trow = document.createElement("tr");
                let td1 = document.createElement("td");
                let td2 = document.createElement("td");
                let td3 = document.createElement("td");
                let td4 = document.createElement("td");
                let td5 = document.createElement("td");
                let td6 = document.createElement("td");

                td1.innerHTML = username;
                td2.innerHTML = from;
                td3.innerHTML = to;
                td4.innerHTML = oValue;
                td5.innerHTML = cValue;
                td6.innerHTML = timestamp;

                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                trow.appendChild(td6);

                tbody1.appendChild(trow);
            }

            function AddItemToTableTranslations(username, from, to, oValue, cValue, timestamp){
                let trow = document.createElement("tr");
                let td1 = document.createElement("td");
                let td2 = document.createElement("td");
                let td3 = document.createElement("td");
                let td4 = document.createElement("td");
                let td5 = document.createElement("td");
                let td6 = document.createElement("td");

                td1.innerHTML = username;
                td2.innerHTML = from;
                td3.innerHTML = to;
                td4.innerHTML = oValue;
                td5.innerHTML = cValue;
                td6.innerHTML = timestamp;

                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                trow.appendChild(td6);

                tbody2.appendChild(trow);
            }


            function AddItemToTableLandmarks(username, landmark, latitude, longitude, timestamp){
                let trow = document.createElement("tr");
                let td1 = document.createElement("td");
                let td2 = document.createElement("td");
                let td3 = document.createElement("td");
                let td4 = document.createElement("td");
                let td5 = document.createElement("td");

                td1.innerHTML = username;
                td2.innerHTML = landmark;
                td3.innerHTML = latitude;
                td4.innerHTML = longitude;
                td5.innerHTML = timestamp;

                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);

                tbody3.appendChild(trow);
            }

            function AddAllItemsToTableConversions(Conversion){
                tbody1.innerHTML="";
                Conversion.forEach(element => {
                    AddItemToTableConversions(element.username, element.currencyFrom, element.currencyTo, element.originalValue, element.convertedValue, element.timestamp);
                });
            }

            function AddAllItemsToTableTranslations(Translation){
                tbody2.innerHTML="";
                Translation.forEach(element => {
                    AddItemToTableTranslations(element.username, element.languageFrom, element.languageTo, element.originalText, element.translatedText, element.timestamp);
                });
            }


            function AddAllItemsToTableLandmarks(Landmark){
                tbody3.innerHTML="";
                Landmark.forEach(element => {
                    AddItemToTableLandmarks(element.username, element.landmark, element.coordinates.latitude, element.coordinates.longitude , element.timestamp);
                });
            }



            //import { initializeApp } from "firebase/app";
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
            import { getDatabase, ref,child, onValue, get } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";

            // TODO: Replace the following with your app's Firebase project configuration
            // See: https://firebase.google.com/docs/web/learn-more#config-object
            const firebaseConfig = {
            // ...
            // The value of `databaseURL` depends on the location of the database
            databaseURL: "https://globe-69dba-default-rtdb.firebaseio.com/",
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);


            // Initialize Realtime Database and get a reference to the service
            const database = getDatabase(app);



            //---------------------- GETTING ALL THE DATA ----------------------

            function GetAllDataRealtime(){
                const dbRef1 = ref(database, "Statistics/Conversion");
                
                onValue(dbRef1,(snapshot)=>{
                    var conversions = [];

                    snapshot.forEach(childSnapshot => {
                        conversions.push(childSnapshot.val());
                    });

                    AddAllItemsToTableConversions(conversions);
                })

                const dbRef2 = ref(database, "Statistics/Translation");
                
                onValue(dbRef2,(snapshot)=>{
                    var translations = [];

                    snapshot.forEach(childSnapshot => {
                        translations.push(childSnapshot.val());
                    });

                    AddAllItemsToTableTranslations(translations);
                })

                const dbRef3 = ref(database, "Statistics/Landmark");
                
                onValue(dbRef3,(snapshot)=>{
                    var landmarks = [];

                    snapshot.forEach(childSnapshot => {
                        landmarks.push(childSnapshot.val());
                    });

                    AddAllItemsToTableLandmarks(landmarks);
                })
            }

            window.onload = GetAllDataRealtime;
        </script>
    </body>
</html>